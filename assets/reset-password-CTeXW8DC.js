import{S as P,r as c,j as s}from"./index-CdvkGghb.js";import{R as f,C as b,I as t,B as g}from"./CustomBootstrap-Bil4LaCk.js";import{C as A,a as C,F as x,L as p}from"./Label-1UvJXOVX.js";import{c as v,N as d}from"./App-BWe0PYTS.js";import{F as y,a as S,b as j}from"./formik.esm-jEMuoU8R.js";import"./index-Cq32OTVC.js";const I=r=>{const{newPassword:o,newPasswordAgain:e}=r,a={};return e&&o!==e&&(a.newPasswordAgain="Please check your new password"),a},k=({location:r,history:o,loading:e,error:a,resetPasswordAction:i})=>{const[l]=c.useState(""),[u]=c.useState("");c.useEffect(()=>{},[a,e,l]);const h=n=>{if(!e){const w=new URLSearchParams(r.search).get("oobCode");if(w)n.newPassword!==""&&i({newPassword:n.newPassword,resetPasswordCode:w,history:o});else return}},N={newPassword:l,newPasswordAgain:u};return s.jsx(f,{className:"h-100",children:s.jsx(b,{xxs:"12",md:"10",className:"mx-auto my-auto",children:s.jsxs(A,{className:"auth-card",children:[s.jsxs("div",{className:"position-relative image-side ",children:[s.jsx("p",{className:"text-white h2",children:"MAGIC IS IN THE DETAILS"}),s.jsxs("p",{className:"white mb-0",children:["Please use your e-mail to reset your password. ",s.jsx("br",{}),"If you are not a member, please"," ",s.jsx(d,{to:"/register",className:"white",children:"register"}),"."]})]}),s.jsxs("div",{className:"form-side",children:[s.jsx(d,{to:"/",className:"white",children:s.jsx("span",{className:"logo-single"})}),s.jsx(C,{className:"mb-4",children:s.jsx(t,{id:"user.reset-password"})}),s.jsx(y,{validate:I,initialValues:N,onSubmit:h,children:({errors:n,touched:m})=>s.jsxs(S,{className:"av-tooltip tooltip-label-bottom",children:[s.jsxs(x,{className:"form-group has-float-label",children:[s.jsx(p,{children:s.jsx(t,{id:"user.new-password"})}),s.jsx(j,{className:"form-control",name:"newPassword",type:"password"})]}),s.jsxs(x,{className:"form-group has-float-label",children:[s.jsx(p,{children:s.jsx(t,{id:"user.new-password-again"})}),s.jsx(j,{className:"form-control",name:"newPasswordAgain",type:"password"}),n.newPasswordAgain&&m.newPasswordAgain&&s.jsx("div",{className:"invalid-feedback d-block",children:n.newPasswordAgain})]}),s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsx(d,{to:"/user/login",children:s.jsx(t,{id:"user.login-title"})}),s.jsxs(g,{color:"primary",className:`btn-shadow btn-multiple-state ${e?"show-spinner":""}`,size:"lg",children:[s.jsxs("span",{className:"spinner d-inline-block",children:[s.jsx("span",{className:"bounce1"}),s.jsx("span",{className:"bounce2"}),s.jsx("span",{className:"bounce3"})]}),s.jsx("span",{className:"label",children:s.jsx(t,{id:"user.reset-password-button"})})]})]})]})})]})]})})})},F=({authUser:r})=>{const{newPassword:o,resetPasswordCode:e,loading:a,error:i}=r;return{newPassword:o,resetPasswordCode:e,loading:a,error:i}},M=v(F,{resetPasswordAction:P})(k);export{M as default};
